<!-- Previous HTML remains the same until the form -->
<form id="loginForm">
    <label for="email">Email</label>
    <input type="email" id="email" name="email" required>
    <label for="password">Password</label>
    <input type="password" id="password" name="password" required>
    <button type="submit">Login</button>
    <div id="notification" class="notification"></div>
    <p>Don't have an account? <a href="signUp.html">Sign up</a></p>
</form>

<script>
document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const notification = document.getElementById('notification');

    try {
        const result = await login(email, password);
        if (result.success) {
            showNotification(notification, 'Login successful', 'success');
            setTimeout(() => {
                window.location.href = '/profile.html';
            }, 1000);
        } else {
            showNotification(notification, result.error || 'Invalid credentials');
        }
    } catch (error) {
        showNotification(notification, 'An error occurred during login');
    }
});

// Check auth status on page load
document.addEventListener('DOMContentLoaded', async () => {
    if (await checkAuthStatus()) {
        window.location.href = '/profile.html';
    }
});
</script>

